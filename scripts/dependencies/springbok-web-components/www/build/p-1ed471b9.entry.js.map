{"version":3,"names":["experienceZoneCss","BsExperienceZoneTeaser","this","onResize","slides","teaserSliderRef","scrollWidth","offsetWidth","throttleMethod","throttle","onPreviousSlide","activeIndex","scrollLeft","scrollSlider","onNextSlide","parsedExperienceZoneData","stories","length","clientWidth","scrollDistance","children","offsetLeft","scrollTo","top","left","behavior","parseIfString","experienceZoneData","parsedTeaserTitle","teaserTitle","handleScreenResized","componentDidLoad","render","h","Host","class","text","tag","size","variant","color","name","onBsClickAction","tagClass","ariaLabelText","IconName","ArrowBackward","ArrowForward","ref","el","map","story","index","value","singular","cardTitle","storyTitle","cardImage","storyImage","video","screens","layout","ExperienceZoneLayout","Video","__decorate","Memoize"],"sources":["./src/components/molecules/experience-zone/experience-zone.scss?tag=bs-experience-zone&encapsulation=shadow","./src/components/molecules/experience-zone/experience-zone.tsx"],"sourcesContent":["/* stylelint-disable property-no-vendor-prefix */\n:host {\n  @include reset-host;\n  padding: 2rem 0;\n  overflow: hidden;\n}\n\n:host .teaser-head {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n:host .teaser-navigation {\n  display: flex;\n  gap: rem(12);\n\n  @include mq('max', 'md') {\n    display: none;\n  }\n}\n\n:host .teaser-slider {\n  display: flex;\n  gap: rem(12);\n  margin: rem(32) 0;\n  overflow: auto;\n\n  @include mq('min', 'md') {\n    gap: rem(24);\n    padding-bottom: rem(32);\n    overflow: auto;\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: transparent;\n  }\n\n  &::-webkit-scrollbar {\n    height: 2px;\n    background-color: transparent;\n\n    @include mq('max', 'md') {\n      display: none;\n    }\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: $primary;\n  }\n}\n\n:host .navigation-button {\n  padding: rem(8);\n  font-size: rem(24);\n  border: 1px solid $gray-800;\n  border-radius: 50%;\n\n  &:focus {\n    background-color: $gray-800;\n    outline: 0;\n  }\n}\n\n:host .teaser-card {\n  flex-grow: 1;\n}\n\n:host .progress-bar {\n  width: 100%;\n  height: rem(2);\n}\n\n:host .progress-indicator {\n  width: 0;\n  height: 100%;\n  background-color: $primary;\n}\n\n:host .grow {\n  flex-grow: 1;\n}\n\n:host .click-action {\n  outline: 0;\n}\n","import { Component, Host, h, Prop, State, Listen } from '@stencil/core';\nimport { Memoize, parseIfString } from '@springbokagency/stencil-base';\nimport { BsTitle } from '../../atoms/title/title';\nimport { ExperienceZone, ExperienceZoneLayout } from './experience-zone.types';\nimport { IconName } from '../../atoms/icon/icon.types';\nimport { throttle } from '../../../utils/throttle';\n\n/**\n * Experience Zone teaser component.\n */\n@Component({\n  tag: 'bs-experience-zone',\n  styleUrl: 'experience-zone.scss',\n  shadow: true,\n})\nexport class BsExperienceZoneTeaser {\n  private teaserSliderRef: HTMLDivElement;\n\n  /** States */\n  @State() slides: boolean = false;\n\n  @State() activeIndex: number = 0;\n\n  /** Props */\n  /**\n   * The Experience Zone contract.\n   */\n  @Prop() experienceZoneData: ExperienceZone | string;\n\n  @Memoize('experienceZoneData')\n  get parsedExperienceZoneData(): ExperienceZone {\n    return parseIfString(this.experienceZoneData);\n  }\n\n  /**\n   * The Experience Zone Teaser title.\n   */\n  @Prop() teaserTitle: BsTitle | string;\n\n  @Memoize('teaserTitle')\n  get parsedTeaserTitle(): BsTitle {\n    return parseIfString(this.teaserTitle);\n  }\n\n  /** listeners */\n  @Listen('resize', { target: 'window', passive: true })\n  handleScreenResized() {\n    this.throttleMethod();\n  }\n\n  /** Methods */\n  private onResize = () => {\n    this.slides =\n      this.teaserSliderRef && this.teaserSliderRef.scrollWidth > this.teaserSliderRef.offsetWidth;\n  };\n\n  private throttleMethod = throttle(this.onResize, 1000);\n\n  private onPreviousSlide = () => {\n    if (this.activeIndex < 1) return;\n    if (this.teaserSliderRef.scrollLeft === 0) return;\n    this.activeIndex -= 1;\n\n    this.scrollSlider();\n  };\n\n  private onNextSlide = () => {\n    if (this.activeIndex > this.parsedExperienceZoneData.stories.length - 2) return;\n    if (\n      this.teaserSliderRef.scrollLeft + this.teaserSliderRef.clientWidth ===\n      this.teaserSliderRef.scrollWidth\n    )\n      return;\n    this.activeIndex += 1;\n\n    this.scrollSlider();\n  };\n\n  private scrollSlider = () => {\n    const scrollDistance =\n      (this.teaserSliderRef.children[this.activeIndex] as HTMLBsClickActionElement).offsetLeft -\n      this.teaserSliderRef.offsetLeft;\n\n    this.teaserSliderRef.scrollTo({\n      top: 0,\n      left: scrollDistance,\n      behavior: 'smooth',\n    });\n  };\n\n  /** lifecycle hooks */\n  componentDidLoad() {\n    this.slides = this.teaserSliderRef.scrollWidth > this.teaserSliderRef.offsetWidth;\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"teaser-head\">\n          <bs-title\n            text={this.parsedTeaserTitle.text}\n            tag={this.parsedTeaserTitle.tag}\n            size={this.parsedTeaserTitle.size}\n            variant={this.parsedTeaserTitle.variant}\n            color={this.parsedTeaserTitle.color}\n          />\n          {this.slides && (\n            <div class=\"teaser-navigation\">\n              <bs-click-action\n                name=\"previous\"\n                onBsClickAction={this.onPreviousSlide}\n                tagClass=\"navigation-button\"\n                ariaLabelText=\"backward\"\n              >\n                <bs-icon name={IconName.ArrowBackward} />\n              </bs-click-action>\n              <bs-click-action\n                name=\"next\"\n                onBsClickAction={this.onNextSlide}\n                tagClass=\"navigation-button\"\n                ariaLabelText=\"forward\"\n              >\n                <bs-icon name={IconName.ArrowForward} />\n              </bs-click-action>\n            </div>\n          )}\n        </div>\n        <div\n          class=\"teaser-slider\"\n          ref={(el) => {\n            this.teaserSliderRef = el;\n          }}\n        >\n          {this.parsedExperienceZoneData.stories.map((story, index) => (\n            <bs-click-action\n              name=\"open-experience-zone-modal\"\n              class=\"grow\"\n              tagClass=\"grow click-action\"\n              value={{ activeIndex: index, experienceZoneData: this.experienceZoneData }}\n            >\n              <bs-experience-zone-card\n                class=\"teaser-card\"\n                singular={this.parsedExperienceZoneData.stories.length === 1}\n                cardTitle={story.storyTitle}\n                cardImage={story.storyImage}\n                video={story.screens[0].layout === ExperienceZoneLayout.Video}\n              />\n            </bs-click-action>\n          ))}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"sOAAA,MAAMA,EAAoB,wqP,iXCebC,EAAsB,M,yBAoCzBC,KAAAC,SAAW,KACjBD,KAAKE,OACHF,KAAKG,iBAAmBH,KAAKG,gBAAgBC,YAAcJ,KAAKG,gBAAgBE,WAAW,EAGvFL,KAAAM,eAAiBC,EAASP,KAAKC,SAAU,KAEzCD,KAAAQ,gBAAkB,KACxB,GAAIR,KAAKS,YAAc,EAAG,OAC1B,GAAIT,KAAKG,gBAAgBO,aAAe,EAAG,OAC3CV,KAAKS,aAAe,EAEpBT,KAAKW,cAAc,EAGbX,KAAAY,YAAc,KACpB,GAAIZ,KAAKS,YAAcT,KAAKa,yBAAyBC,QAAQC,OAAS,EAAG,OACzE,GACEf,KAAKG,gBAAgBO,WAAaV,KAAKG,gBAAgBa,cACvDhB,KAAKG,gBAAgBC,YAErB,OACFJ,KAAKS,aAAe,EAEpBT,KAAKW,cAAc,EAGbX,KAAAW,aAAe,KACrB,MAAMM,EACHjB,KAAKG,gBAAgBe,SAASlB,KAAKS,aAA0CU,WAC9EnB,KAAKG,gBAAgBgB,WAEvBnB,KAAKG,gBAAgBiB,SAAS,CAC5BC,IAAK,EACLC,KAAML,EACNM,SAAU,UACV,E,YApEuB,M,iBAEI,E,6DAS3BV,+BACF,OAAOW,EAAcxB,KAAKyB,mB,CASxBC,wBACF,OAAOF,EAAcxB,KAAK2B,Y,CAK5BC,sBACE5B,KAAKM,gB,CA4CPuB,mBACE7B,KAAKE,OAASF,KAAKG,gBAAgBC,YAAcJ,KAAKG,gBAAgBE,W,CAGxEyB,SACE,OACEC,EAACC,EAAI,KACHD,EAAA,OAAKE,MAAM,eACTF,EAAA,YACEG,KAAMlC,KAAK0B,kBAAkBQ,KAC7BC,IAAKnC,KAAK0B,kBAAkBS,IAC5BC,KAAMpC,KAAK0B,kBAAkBU,KAC7BC,QAASrC,KAAK0B,kBAAkBW,QAChCC,MAAOtC,KAAK0B,kBAAkBY,QAE/BtC,KAAKE,QACJ6B,EAAA,OAAKE,MAAM,qBACTF,EAAA,mBACEQ,KAAK,WACLC,gBAAiBxC,KAAKQ,gBACtBiC,SAAS,oBACTC,cAAc,YAEdX,EAAA,WAASQ,KAAMI,EAASC,iBAE1Bb,EAAA,mBACEQ,KAAK,OACLC,gBAAiBxC,KAAKY,YACtB6B,SAAS,oBACTC,cAAc,WAEdX,EAAA,WAASQ,KAAMI,EAASE,kBAKhCd,EAAA,OACEE,MAAM,gBACNa,IAAMC,IACJ/C,KAAKG,gBAAkB4C,CAAE,GAG1B/C,KAAKa,yBAAyBC,QAAQkC,KAAI,CAACC,EAAOC,IACjDnB,EAAA,mBACEQ,KAAK,6BACLN,MAAM,OACNQ,SAAS,oBACTU,MAAO,CAAE1C,YAAayC,EAAOzB,mBAAoBzB,KAAKyB,qBAEtDM,EAAA,2BACEE,MAAM,cACNmB,SAAUpD,KAAKa,yBAAyBC,QAAQC,SAAW,EAC3DsC,UAAWJ,EAAMK,WACjBC,UAAWN,EAAMO,WACjBC,MAAOR,EAAMS,QAAQ,GAAGC,SAAWC,EAAqBC,Y,GAnHtEC,EAAA,CADCC,EAAQ,uB,6CAWTD,EAAA,CADCC,EAAQ,gB"}