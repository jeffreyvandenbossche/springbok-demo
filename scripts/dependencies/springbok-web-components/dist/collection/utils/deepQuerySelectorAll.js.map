{"version":3,"file":"deepQuerySelectorAll.js","sourceRoot":"","sources":["../../src/utils/deepQuerySelectorAll.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,+BAA+B,CAAC;AAExD,MAAM,UAAU,oBAAoB,CAAC,QAAgB,EAAE,IAAa;EAClE,MAAM,aAAa,GAAG,EAAE,CAAC;EAEzB,iDAAiD;EACjD,IAAI,WAAgC,CAAC;EAErC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;IAC7B,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;GACrD;OAAM;IACL,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;GAC1C;EAED,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;IAC5B,+CAA+C;IAC/C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE;MAC9B,sGAAsG;MACtG,aAAa,CAAC,IAAI,CAAC,GAAG,oBAAoB,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;KAC9D;IAED,uCAAuC;IACvC,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;MAC3B,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC3B;EACH,CAAC,CAAC,CAAC;EAEH,OAAO,aAAa,CAAC;AACvB,CAAC","sourcesContent":["import { isEmpty } from '@springbokagency/stencil-base';\n\nexport function deepQuerySelectorAll(selector: string, root: Element): Element[] | [] {\n  const selectedItems = [];\n\n  // select all items of this Element or Shadow DOM\n  let allChildren: NodeListOf<Element>;\n\n  if (!isEmpty(root.shadowRoot)) {\n    allChildren = root.shadowRoot.querySelectorAll('*');\n  } else {\n    allChildren = root.querySelectorAll('*');\n  }\n\n  allChildren.forEach((child) => {\n    // if has shadow root, re-execute main function\n    if (!isEmpty(child.shadowRoot)) {\n      // concatenate the results of the recursive calls to avoid always resetting the value of selectedItems\n      selectedItems.push(...deepQuerySelectorAll(selector, child));\n    }\n\n    // if match CSS selector, push to array\n    if (child.matches(selector)) {\n      selectedItems.push(child);\n    }\n  });\n\n  return selectedItems;\n}\n"]}