{"version":3,"file":"text.js","sourceRoot":"","sources":["../../../../src/components/atoms/text/text.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AACzD,OAAO,SAAS,MAAM,WAAW,CAAC;AAClC,OAAO,EAAE,OAAO,EAAE,MAAM,+BAA+B,CAAC;AACxD,OAAO,EAAE,iBAAiB,EAAE,MAAM,kCAAkC,CAAC;AACrE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AAEnD;;GAEG;AAMH,MAAM,OAAO,SAAS;;;;;;EAgBpB,kDAAkD;EAC1C,aAAa,CAAC,IAAY;IAChC,MAAM,OAAO,GAAG,iBAAiB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAElD,IAAI,OAAO,CAAC,OAAO,CAAC;MAAE,OAAO;IAE7B,MAAM,OAAO,GAAG,CAAC,EAAE,CAAC;IACpB,MAAM,CAAC,GAAG,OAAO,CAAC,qBAAqB,EAAE,CAAC,GAAG,GAAG,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC;IAEzE,MAAM,CAAC,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;EAClD,CAAC;EAED,gBAAgB;IACd,mEAAmE;IACnE,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;IAErC,4BAA4B;IAC5B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;MAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAEnD,uCAAuC;IACvC,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,GAAG,EAAE;MACzC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAM;IACJ,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE;MACxC,YAAY,EAAE;QACZ,GAAG;QACH,IAAI;QACJ,GAAG;QACH,GAAG;QACH,GAAG;QACH,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,KAAK;QACL,KAAK;QACL,GAAG;QACH,KAAK;QACL,YAAY;OACb;MACD,QAAQ,EAAE,CAAC,QAAQ,EAAE,YAAY,EAAE,cAAc,CAAC;KACnD,CAAC,CAAC;IAEH,MAAM,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;MAC1D,CAAC,CAAC,QAAQ,IAAI,CAAC,IAAI,EAAE;MACrB,CAAC,CAAC,cAAc,CAAC;IAEnB,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;MACjE,CAAC,CAAC,cAAc,IAAI,CAAC,SAAS,EAAE;MAChC,CAAC,CAAC,EAAE,CAAC;IAEP,OAAO,CACL,EAAC,IAAI;MACH,WAAK,KAAK,EAAE,QAAQ,QAAQ,IAAI,SAAS,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,IAAI,GAAQ,CACpE,CACR,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Prop, h, Host } from '@stencil/core';\nimport DOMPurify from 'dompurify';\nimport { isEmpty } from '@springbokagency/stencil-base';\nimport { deepQuerySelector } from '../../../utils/deepQuerySelector';\nimport { TextSize, TextColor } from './text.types';\n\n/**\n * The text component.\n */\n@Component({\n  tag: 'bs-text',\n  styleUrl: 'text.scss',\n  shadow: true,\n})\nexport class Paragraph {\n  /**\n   * To customize the text\n   */\n  @Prop() text: string;\n\n  /**\n   * To set the title size\n   */\n  @Prop() size?: TextSize;\n\n  /**\n   * To set the color\n   */\n  @Prop() textColor?: TextColor;\n\n  // eslint-disable-next-line class-methods-use-this\n  private handleUrlHash(hash: string) {\n    const element = deepQuerySelector(hash, document);\n\n    if (isEmpty(element)) return;\n\n    const yOffset = -35;\n    const y = element.getBoundingClientRect().top + window.scrollY + yOffset;\n\n    window.scrollTo({ top: y, behavior: 'smooth' });\n  }\n\n  componentDidLoad() {\n    // TODO: move anchor/hash logic inside future layout base component\n    const urlHash = window.location.hash;\n\n    // scroll to id on page load\n    if (!isEmpty(urlHash)) this.handleUrlHash(urlHash);\n\n    // scroll to id when click on hash link\n    window.addEventListener('hashchange', () => {\n      this.handleUrlHash(window.location.hash);\n    });\n  }\n\n  render() {\n    this.text = DOMPurify.sanitize(this.text, {\n      ALLOWED_TAGS: [\n        'p',\n        'br',\n        'b',\n        'i',\n        'u',\n        'ul',\n        'ol',\n        'li',\n        'sub',\n        'sup',\n        'a',\n        'img',\n        'bs-tooltip',\n      ],\n      ADD_ATTR: ['target', 'title-text', 'content-text'],\n    });\n\n    const fontSize = Object.values(TextSize).includes(this.size)\n      ? `font-${this.size}`\n      : `font-inherit`;\n\n    const textColor = Object.values(TextColor).includes(this.textColor)\n      ? `text-color-${this.textColor}`\n      : '';\n\n    return (\n      <Host>\n        <div class={`text ${fontSize} ${textColor}`} innerHTML={this.text}></div>\n      </Host>\n    );\n  }\n}\n"]}