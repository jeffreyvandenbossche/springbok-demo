{"version":3,"file":"share-banner.js","sourceRoot":"","sources":["../../../../src/components/molecules/share-banner/share-banner.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAChE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,+BAA+B,CAAC;AACpE,OAAO,EAAE,cAAc,EAAE,MAAM,qBAAqB,CAAC;AAGrD;;GAEG;AAMH,MAAM,OAAO,aAAa;;;;;EASxB,cAAc;EACN,gBAAgB,CAAC,IAAkB;IACzC,IAAI,IAAI,KAAK,OAAO,EAAE;MACpB,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;SAAM;MACL,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;KAC3B;EACH,CAAC;EAEO,YAAY;IAClB,MAAM,iBAAiB,GAAG,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAE9D,MAAM,CAAC,IAAI,CACT,gBAAgB,iBAAiB,EAAE,EACnC,QAAQ,CAAC,iDAAiD;KAC3D,CAAC;EACJ,CAAC;EAEO,cAAc,CAAC,UAAwB;IAC7C,MAAM,iBAAiB,GAAG,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC9D,IAAI,cAAsB,CAAC;IAE3B,QAAQ,UAAU,EAAE;MAClB,KAAK,UAAU;QACb,cAAc,GAAG,gDAAgD,iBAAiB,EAAE,CAAC;QACrF,MAAM;MAER,KAAK,SAAS;QACZ,cAAc,GAAG,wCAAwC,iBAAiB,EAAE,CAAC;QAC7E,MAAM;MAER,KAAK,UAAU;QACb,cAAc,GAAG,uDAAuD,iBAAiB,EAAE,CAAC;QAC5F,MAAM;MAER;QACE,MAAM;KACT;IAED,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,UAAU,EAAE,uBAAuB,CAAC,CAAC;EACnE,CAAC;EAED,sBAAsB;EACtB,gBAAgB;IACd,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;EACzC,CAAC;EAED,MAAM;IACJ,OAAO,CACL,EAAC,IAAI;MACH,WAAK,KAAK,EAAC,cAAc;QAEvB,gBAAU,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE,GAAG,EAAE,QAAQ,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,KAAK,GAAI;QAG9E,WAAK,KAAK,EAAC,gBAAgB,IACxB,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAC5B,uBAAiB,KAAK,EAAC,MAAM,EAAC,eAAe,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;UACjF,eAAS,IAAI,EAAE,IAAI,CAAC,IAAI,GAAI,CACZ,CACnB,CAAC,CACE,CACF,CACD,CACR,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Host, h, Prop, State } from '@stencil/core';\nimport { TitleSize, TitleTag } from '../../atoms/title/title.types';\nimport { sharingButtons } from './share-banner.data';\nimport { SharingTypes } from './share-banner.types';\n\n/**\n * Share banner component.\n */\n@Component({\n  tag: 'bs-share-banner',\n  styleUrl: 'share-banner.scss',\n  shadow: true,\n})\nexport class BsShareBanner {\n  /** State */\n  @State() currentUrl: string;\n\n  /**\n   * Section's title\n   */\n  @Prop() sectionTitle: string;\n\n  /** Methods */\n  private handleShareClick(type: SharingTypes) {\n    if (type === 'email') {\n      this.shareByEmail();\n    } else {\n      this.shareToSocials(type);\n    }\n  }\n\n  private shareByEmail() {\n    const encodedCurrentUrl = encodeURIComponent(this.currentUrl);\n\n    window.open(\n      `mailto:?body=${encodedCurrentUrl}`,\n      '_blank' // <- This is what makes it open in a new window.\n    );\n  }\n\n  private shareToSocials(socialType: SharingTypes) {\n    const encodedCurrentUrl = encodeURIComponent(this.currentUrl);\n    let sharingLinkUrl: string;\n\n    switch (socialType) {\n      case 'facebook':\n        sharingLinkUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodedCurrentUrl}`;\n        break;\n\n      case 'twitter':\n        sharingLinkUrl = `https://twitter.com/intent/tweet?url=${encodedCurrentUrl}`;\n        break;\n\n      case 'linkedin':\n        sharingLinkUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodedCurrentUrl}`;\n        break;\n\n      default:\n        break;\n    }\n\n    window.open(sharingLinkUrl, 'myWindow', 'width=550, height=400');\n  }\n\n  /** Lifecycle Hooks */\n  componentDidLoad() {\n    this.currentUrl = window.location.href;\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"share-banner\">\n          {/* Title */}\n          <bs-title text={this.sectionTitle} tag={TitleTag.H2} size={TitleSize.Head3} />\n\n          {/* Sharing buttons */}\n          <div class=\"button-wrapper\">\n            {sharingButtons.map((item) => (\n              <bs-click-action class=\"icon\" onBsClickAction={() => this.handleShareClick(item.id)}>\n                <bs-icon name={item.icon} />\n              </bs-click-action>\n            ))}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}