{"version":3,"file":"experience-zone-modal.js","sourceRoot":"","sources":["../../../../src/components/molecules/experience-zone-modal/experience-zone-modal.tsx"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAgB,MAAM,eAAe,CAAC;AACtF,OAAO,EAAE,OAAO,EAAE,aAAa,EAAE,MAAM,+BAA+B,CAAC;AAIvE;;GAEG;AAMH,MAAM,OAAO,qBAAqB;;IA8BxB,gBAAW,GAAG,CAAC,QAAgB,EAAE,EAAE;MACzC,IAAI,QAAQ,GAAG,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;QAC/D,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;OACtB;WAAM,IAAI,QAAQ,GAAG,CAAC,EAAE;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;OACrE;WAAM;QACL,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;OAC7B;MAED,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,SAAS,GAAG,eAAe,IAAI,CAAC,WAAW,GAAG,GAAG,KAAK,CAAC;IAC3F,CAAC,CAAC;uBApCqB,CAAC;;;EAQxB,IAAI,wBAAwB;IAC1B,OAAO,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;EAChD,CAAC;EAKD,gBAAgB;EAEhB,wBAAwB;IACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;EACzC,CAAC;EAGD,4BAA4B;IAC1B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;EACzC,CAAC;EAcD,gBAAgB;IACd,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,SAAS,GAAG,eAAe,IAAI,CAAC,WAAW,GAAG,GAAG,KAAK,CAAC;IACzF,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,UAAU,GAAG,4BAA4B,CAAC;EAC9E,CAAC;EAED,MAAM;IACJ,OAAO,CACL,EAAC,IAAI;MACH,WACE,KAAK,EAAC,uBAAuB,EAC7B,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE;UACV,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;QACnC,CAAC,IAEA,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,CAC3D,gCACE,MAAM,EAAE,KAAK,KAAK,IAAI,CAAC,WAAW,EAClC,cAAc,EAAE,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAChE,SAAS,EAAE,KAAK,GACU,CAC7B,CAAC,CACE,CACD,CACR,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF;AAvDC;EADC,OAAO,CAAC,oBAAoB,CAAC;qEAG7B","sourcesContent":["import { Component, Host, h, Prop, Listen, Event, EventEmitter } from '@stencil/core';\nimport { Memoize, parseIfString } from '@springbokagency/stencil-base';\nimport { ExperienceZone } from '../experience-zone/experience-zone.types';\nimport { YoutubeControlClickEvent } from '../youtube-control/youtube-control.types';\n\n/**\n * Experience Zone modal component.\n */\n@Component({\n  tag: 'bs-experience-zone-modal',\n  styleUrl: 'experience-zone-modal.scss',\n  shadow: true,\n})\nexport class BsExperienceZoneModal {\n  private experienceZoneModalRef: HTMLDivElement;\n\n  /** State */\n  @Prop() activeIndex? = 0;\n\n  /**\n   * The Experience Zone story data.\n   */\n  @Prop() experienceZoneData: ExperienceZone | string;\n\n  @Memoize('experienceZoneData')\n  get parsedExperienceZoneData(): ExperienceZone {\n    return parseIfString(this.experienceZoneData);\n  }\n\n  /** Events */\n  @Event() bsPauseYoutubeAction: EventEmitter<YoutubeControlClickEvent>;\n\n  /** Listeners */\n  @Listen('bsNextSlideAction')\n  bsNextSlideActionHandler() {\n    this.updateIndex(this.activeIndex + 1);\n  }\n\n  @Listen('bsPreviousSlideAction')\n  bsPreviousSlideActionHandler() {\n    this.updateIndex(this.activeIndex - 1);\n  }\n\n  private updateIndex = (newValue: number) => {\n    if (newValue > this.parsedExperienceZoneData.stories.length - 1) {\n      this.activeIndex = 0;\n    } else if (newValue < 0) {\n      this.activeIndex = this.parsedExperienceZoneData.stories.length - 1;\n    } else {\n      this.activeIndex = newValue;\n    }\n\n    this.experienceZoneModalRef.style.transform = `translateX(-${this.activeIndex * 100}vw)`;\n  };\n\n  componentDidLoad() {\n    this.experienceZoneModalRef.style.transform = `translateX(-${this.activeIndex * 100}vw)`;\n    this.experienceZoneModalRef.style.transition = `transform 0.5s ease-in-out`;\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class=\"experience-zone-modal\"\n          ref={(el) => {\n            this.experienceZoneModalRef = el;\n          }}\n        >\n          {this.parsedExperienceZoneData.stories.map((story, index) => (\n            <bs-experience-zone-story\n              active={index === this.activeIndex}\n              hideNavigation={this.parsedExperienceZoneData.stories.length < 2}\n              storyData={story}\n            ></bs-experience-zone-story>\n          ))}\n        </div>\n      </Host>\n    );\n  }\n}\n"]}