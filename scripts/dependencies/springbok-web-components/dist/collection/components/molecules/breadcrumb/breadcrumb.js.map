{"version":3,"file":"breadcrumb.js","sourceRoot":"","sources":["../../../../src/components/molecules/breadcrumb/breadcrumb.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, Prop, State, h } from '@stencil/core';\nimport { Memoize, parseIfString } from '@springbokagency/stencil-base';\nimport { BreadcrumbData } from './breadcrumb.types';\nimport { IconName } from '../../atoms/icon/icon.types';\nimport { BsClickActionCustomEvent } from '../../../components';\nimport { BsClickAction } from '../../atoms/click-action/click-action';\n\n/**\n * The breadcrumb component.\n */\n\n@Component({\n  tag: 'bs-breadcrumb',\n  styleUrl: 'breadcrumb.scss',\n  shadow: true,\n})\nexport class BsBreadcrumb {\n  private action = 'unwrap';\n\n  private wrapper = 'wrapper';\n\n  /** States */\n  @State() wrapped: boolean = true;\n\n  @State() displayedItems: Array<BreadcrumbData | string> = [];\n\n  /** Props */\n  /**\n   * Breadcrumb items data.\n   */\n  @Prop() data: BreadcrumbData[] | string;\n\n  @Memoize('data')\n  get parsedData(): BreadcrumbData[] {\n    return parseIfString(this.data);\n  }\n\n  /** Methods */\n  private onBsButtonClick = (e: BsClickActionCustomEvent<BsClickAction>) => {\n    if (e.detail.name === this.action) {\n      this.displayedItems = [...this.parsedData];\n    }\n  };\n\n  componentWillLoad() {\n    this.displayedItems = [...this.parsedData];\n\n    if (this.parsedData.length > 4) {\n      this.displayedItems.splice(2, this.parsedData.length - 4, this.wrapper);\n    }\n  }\n\n  render() {\n    const schema = {\n      '@context': 'https://schema.org',\n      '@type': 'BreadcrumbList',\n      itemListElement: [\n        this.parsedData.map((item, index) => {\n          const breadcrumb = {\n            '@type': 'ListItem',\n            position: index + 1,\n            item: {\n              '@id': item.url,\n              name: item.pageTitle,\n            },\n          };\n\n          return breadcrumb;\n        }),\n      ],\n    };\n\n    return (\n      <Host>\n        <nav aria-label=\"breadcrumb\">\n          <ol class=\"breadcrumb\">\n            {this.displayedItems.map((breadcrumbItem, index) => {\n              const isFirstItem = index === 0;\n              const isLastItem = index === this.displayedItems.length - 1;\n\n              return typeof breadcrumbItem !== 'string' ? (\n                <li>\n                  <bs-click-action\n                    tagClass={`breadcrumb-item ${isLastItem ? 'is-active' : ''} ${\n                      isFirstItem ? 'is-b-mark' : ''\n                    }`}\n                    href={breadcrumbItem.url}\n                    aria-current={isLastItem ? 'page' : ''}\n                  >\n                    <bs-icon name={isFirstItem ? IconName.BMark : IconName.CaretForward} />\n                    {!isFirstItem && <span>{breadcrumbItem.pageTitle}</span>}\n                  </bs-click-action>\n                </li>\n              ) : (\n                <li>\n                  <bs-click-action\n                    tagClass={'breadcrumb-item'}\n                    name={this.action}\n                    onBsClickAction={this.onBsButtonClick}\n                  >\n                    <bs-icon name={IconName.CaretForward} />\n                    <span>...</span>\n                  </bs-click-action>\n                </li>\n              );\n            })}\n          </ol>\n          <script type=\"application/ld+json\">{JSON.stringify(schema)}</script>\n        </nav>\n      </Host>\n    );\n  }\n}\n"]}