{"version":3,"file":"experience-zone.js","sourceRoot":"","sources":["../../../../src/components/molecules/experience-zone/experience-zone.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, h, Prop, State, Listen } from '@stencil/core';\nimport { Memoize, parseIfString } from '@springbokagency/stencil-base';\nimport { BsTitle } from '../../atoms/title/title';\nimport { ExperienceZone, ExperienceZoneLayout } from './experience-zone.types';\nimport { IconName } from '../../atoms/icon/icon.types';\nimport { throttle } from '../../../utils/throttle';\n\n/**\n * Experience Zone teaser component.\n */\n@Component({\n  tag: 'bs-experience-zone',\n  styleUrl: 'experience-zone.scss',\n  shadow: true,\n})\nexport class BsExperienceZoneTeaser {\n  private teaserSliderRef: HTMLDivElement;\n\n  /** States */\n  @State() slides: boolean = false;\n\n  @State() activeIndex: number = 0;\n\n  /** Props */\n  /**\n   * The Experience Zone contract.\n   */\n  @Prop() experienceZoneData: ExperienceZone | string;\n\n  @Memoize('experienceZoneData')\n  get parsedExperienceZoneData(): ExperienceZone {\n    return parseIfString(this.experienceZoneData);\n  }\n\n  /**\n   * The Experience Zone Teaser title.\n   */\n  @Prop() teaserTitle: BsTitle | string;\n\n  @Memoize('teaserTitle')\n  get parsedTeaserTitle(): BsTitle {\n    return parseIfString(this.teaserTitle);\n  }\n\n  /** listeners */\n  @Listen('resize', { target: 'window', passive: true })\n  handleScreenResized() {\n    this.throttleMethod();\n  }\n\n  /** Methods */\n  private onResize = () => {\n    this.slides =\n      this.teaserSliderRef && this.teaserSliderRef.scrollWidth > this.teaserSliderRef.offsetWidth;\n  };\n\n  private throttleMethod = throttle(this.onResize, 1000);\n\n  private onPreviousSlide = () => {\n    if (this.activeIndex < 1) return;\n    if (this.teaserSliderRef.scrollLeft === 0) return;\n    this.activeIndex -= 1;\n\n    this.scrollSlider();\n  };\n\n  private onNextSlide = () => {\n    if (this.activeIndex > this.parsedExperienceZoneData.stories.length - 2) return;\n    if (\n      this.teaserSliderRef.scrollLeft + this.teaserSliderRef.clientWidth ===\n      this.teaserSliderRef.scrollWidth\n    )\n      return;\n    this.activeIndex += 1;\n\n    this.scrollSlider();\n  };\n\n  private scrollSlider = () => {\n    const scrollDistance =\n      (this.teaserSliderRef.children[this.activeIndex] as HTMLBsClickActionElement).offsetLeft -\n      this.teaserSliderRef.offsetLeft;\n\n    this.teaserSliderRef.scrollTo({\n      top: 0,\n      left: scrollDistance,\n      behavior: 'smooth',\n    });\n  };\n\n  /** lifecycle hooks */\n  componentDidLoad() {\n    this.slides = this.teaserSliderRef.scrollWidth > this.teaserSliderRef.offsetWidth;\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"teaser-head\">\n          <bs-title\n            text={this.parsedTeaserTitle.text}\n            tag={this.parsedTeaserTitle.tag}\n            size={this.parsedTeaserTitle.size}\n            variant={this.parsedTeaserTitle.variant}\n            color={this.parsedTeaserTitle.color}\n          />\n          {this.slides && (\n            <div class=\"teaser-navigation\">\n              <bs-click-action\n                name=\"previous\"\n                onBsClickAction={this.onPreviousSlide}\n                tagClass=\"navigation-button\"\n                ariaLabelText=\"backward\"\n              >\n                <bs-icon name={IconName.ArrowBackward} />\n              </bs-click-action>\n              <bs-click-action\n                name=\"next\"\n                onBsClickAction={this.onNextSlide}\n                tagClass=\"navigation-button\"\n                ariaLabelText=\"forward\"\n              >\n                <bs-icon name={IconName.ArrowForward} />\n              </bs-click-action>\n            </div>\n          )}\n        </div>\n        <div\n          class=\"teaser-slider\"\n          ref={(el) => {\n            this.teaserSliderRef = el;\n          }}\n        >\n          {this.parsedExperienceZoneData.stories.map((story, index) => (\n            <bs-click-action\n              name=\"open-experience-zone-modal\"\n              class=\"grow\"\n              tagClass=\"grow click-action\"\n              value={{ activeIndex: index, experienceZoneData: this.experienceZoneData }}\n            >\n              <bs-experience-zone-card\n                class=\"teaser-card\"\n                singular={this.parsedExperienceZoneData.stories.length === 1}\n                cardTitle={story.storyTitle}\n                cardImage={story.storyImage}\n                video={story.screens[0].layout === ExperienceZoneLayout.Video}\n              />\n            </bs-click-action>\n          ))}\n        </div>\n      </Host>\n    );\n  }\n}\n"]}